(this.webpackJsonpmus_ap=this.webpackJsonpmus_ap||[]).push([[0],{185:function(e,t,c){},187:function(e,t,c){},188:function(e,t,c){},189:function(e,t,c){},194:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},492:function(e,t,c){},493:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(17),i=c.n(s),r=c(7),o=(c(184),c(508)),l=(c(185),"".concat("https://accounts.spotify.com/authorize","?client_id=").concat("77d7f5f9d639420eadc050a43224cc92","&redirect_uri=").concat("http://localhost:3000/callback","&scope=").concat(["user-top-read","user-modify-playback-state","user-read-recently-played","user-read-playback-state","user-read-currently-playing"].join("%20"),"&response_type=token&show_dialog=true")),j=c(2);var u=function(){return Object(j.jsxs)("div",{className:"login",children:[Object(j.jsx)("h1",{children:"In the login page"}),Object(j.jsx)("img",{src:"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg"}),Object(j.jsx)(o.a,{className:"d-flex justify-content-center   align-items-center",children:Object(j.jsx)("a",{href:l,className:"btn btn-success btn-lg",children:"Login with spotify"})})]})},d=c(157),b=c.n(d),p=(c(187),c(188),c(74)),O=(c(189),Object(n.createContext)()),f=function(e){var t=e.reducer,c=e.initialState,a=e.children;return Object(j.jsx)(O.Provider,{value:Object(n.useReducer)(t,c),children:a})},m=function(){return Object(n.useContext)(O)};var _=function(e){var t=e.spotify,c=e.title,n=e.id,a=e.Icon,s=m(),i=Object(r.a)(s,2);Object(p.a)(i[0]);var o=i[1];return Object(j.jsxs)("div",{className:"sidebarOption",children:[a&&Object(j.jsx)(a,{className:"sidebarOption__icon"}),a?Object(j.jsx)("h4",{children:c}):Object(j.jsx)("p",{onClick:function(e){return function(e,c){o({type:"SET_CURRENT_PLAYLIST",id:e}),t.getPlaylistTracks(e).then((function(e){o({type:"SET_TRACKS",tracks:e})}))}(n)},children:c})]})},h=c(158),y=c.n(h),x=c(76),v=c.n(x),g=c(161),S=c.n(g);var T=function(e){var t,c=e.spotify,n=m(),a=Object(r.a)(n,1)[0].playlists;return Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)("img",{className:"sidebar_logo",src:"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg",alt:""}),Object(j.jsx)(_,{title:"Home",Icon:y.a}),Object(j.jsx)(_,{title:"Search",Icon:v.a}),Object(j.jsx)(_,{title:"Your Library",Icon:S.a}),Object(j.jsx)("br",{}),Object(j.jsx)("strong",{className:"sidebar__title",children:"PLAYLISTS"}),Object(j.jsx)("hr",{}),null===a||void 0===a||null===(t=a.items)||void 0===t?void 0:t.map((function(e){return Object(j.jsx)(_,{spotify:c,title:e.name,id:e.id},e.id)}))]})},E=(c(194),c(195),c(510));var N=function(e){e.spotify;var t,c=m(),n=Object(r.a)(c,1)[0].user;return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsxs)("div",{className:"header__left",children:[Object(j.jsx)(v.a,{}),Object(j.jsx)("input",{placeholder:"Search for Artists, Songs or Podcasts",type:"text"})]}),Object(j.jsxs)("div",{className:"header__right",children:[Object(j.jsx)(E.a,{src:null===n||void 0===n||null===(t=n.images[0])||void 0===t?void 0:t.url,alt:null===n||void 0===n?void 0:n.display_name}),Object(j.jsx)("h4",{children:null===n||void 0===n?void 0:n.display_name})]})]})},k=c(163),L=c.n(k),A=c(162),w=c.n(A),I=c(164),P=c.n(I),C=c(165),R=c.n(C),Y=(c(196),Object(n.createContext)()),U=function(e){var t=e.initialState,c=e.reducer,a=e.children;return Object(j.jsx)(Y.Provider,{value:Object(n.useReducer)(c,t),children:a})},G=function(){return Object(n.useContext)(Y)};var M=function(e){var t=e.track,c=m(),n=Object(r.a)(c,2);Object(p.a)(n[0]);var a=n[1],s=G(),i=Object(r.a)(s,2),o=i[0],l=o.playing,u=o.repeat,d=i[1];return Object(j.jsxs)("div",{className:"songRow",onClick:function(e){return function(e,t){a({type:"SET_TRACK",track:t});var c=l;d({type:"SET_PLAYING",playing:!1});var n=new Audio(t.preview_url);n.loop=u,d({type:"SET_AUDIO",audio:n}),c&&d({type:"SET_PLAYING",playing:!0}),document.title="".concat(t.name," \xb7 ").concat(t.artists.map((function(e){return e.name})).join(", "))}(0,t)},children:[Object(j.jsx)("img",{className:"songRow__album",src:t.album.images[0].url,alt:""}),Object(j.jsxs)("div",{className:"songRow__info",children:[Object(j.jsx)("h1",{children:t.name}),Object(j.jsx)("p",{children:t.artists.map((function(e){return e.name})).join(", ")}),Object(j.jsx)("p",{children:t.album.name})]})]})};var K=function(e){var t=e.spotify,c=m(),n=Object(r.a)(c,1)[0],a=n.current_playlist,s=n.tracks,i=n.track,o=G(),l=Object(r.a)(o,2),u=l[0],d=u.playing,b=u.volume,p=l[1];return Object(j.jsxs)("div",{className:"body",children:[Object(j.jsx)(N,{spotify:t}),Object(j.jsxs)("div",{className:"body__info",children:[Object(j.jsx)("img",{src:a?null===a||void 0===a?void 0:a.images[0].url:"https://cdn.shortpixel.ai/client/to_webp,q_lossy,ret_img,w_250/https://www.hypebot.com/wp-content/uploads/2020/07/discover-weekly-250x250.png",alt:""}),Object(j.jsxs)("div",{className:"body__infoText",children:[Object(j.jsx)("strong",{children:"PLAYLIST"}),Object(j.jsx)("h2",{children:null===a||void 0===a?void 0:a.name}),Object(j.jsx)("p",{children:null===a||void 0===a?void 0:a.description})]})]}),Object(j.jsxs)("div",{className:"body__songs",children:[Object(j.jsxs)("div",{className:"body__icons",children:[d?Object(j.jsx)(w.a,{onClick:i?function(){p({type:"SET_PLAYING",playing:!1})}:null,className:"body__shuffle"}):Object(j.jsx)(L.a,{onClick:i?function(){p({type:"SET_PLAYING",playing:!0}),p({type:"SET_VOLUME",volume:b/100})}:null,fontSize:"large",className:"body__shuffle"}),Object(j.jsx)(P.a,{fontSize:"large"}),Object(j.jsx)(R.a,{})]}),null===s||void 0===s?void 0:s.items.map((function(e){return Object(j.jsx)(M,{track:e.track},e.track.id)}))]})]})},z=(c(197),c(169)),D=c.n(z),F=c(167),V=c.n(F),H=c(170),J=c.n(H),q=c(166),B=c.n(q),Q=c(171),W=c.n(Q),X=c(507),Z=c(509),$=c(172),ee=c.n($),te=c(173),ce=c.n(te),ne=c(168),ae=c.n(ne);var se=function(){var e=m(),t=Object(r.a)(e,2),c=t[0],n=c.track,a=c.tracks,s=t[1],i=G(),o=Object(r.a)(i,2),l=o[0],u=l.audio,d=l.playing,b=l.volume,p=l.repeat,O=l.shuffle,f=o[1],_=function(){!p&&O&&h(),f({type:"SET_REPEAT",repeat:!p})},h=function(){!O&&p&&_(),f({type:"SET_SHUFFLE",shuffle:!O})};return u&&(u.onended=function(){if(O)for(;;){var e=Math.floor(Math.random()*a.items.length),t=a.items[e].track;if(n!==t){s({type:"SET_TRACK",track:t});var c=d;f({type:"SET_PLAYING",playing:!1});var i=new Audio(t.preview_url);i.loop=p,f({type:"SET_AUDIO",audio:i}),c&&f({type:"SET_PLAYING",playing:!0}),document.title="".concat(t.name," \xb7 ").concat(t.artists.map((function(e){return e.name})).join(", "));break}}O||p||f({type:"SET_PLAYING",playing:!0})}),Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsxs)("div",{className:"footer__left",children:[Object(j.jsx)("img",{className:"footer__albumLogo",src:n?n.album.images[0].url:"",alt:""}),Object(j.jsxs)("div",{className:"footer__songInfo",children:[Object(j.jsx)("h4",{children:n?n.name:"No song selected"}),Object(j.jsx)("p",{children:n?n.artists.map((function(e){return e.name})).join(", "):null})]})]}),Object(j.jsxs)("div",{className:"footer__center",children:[Object(j.jsx)(B.a,{onClick:n?h:null,className:O?"footer__green":"footer__icon"}),Object(j.jsx)(V.a,{className:"footer__icon"}),d?Object(j.jsx)(ae.a,{onClick:n?function(){f({type:"SET_PLAYING",playing:!1})}:null,fontSize:"large",className:"footer__icon"}):Object(j.jsx)(D.a,{onClick:n?function(){f({type:"SET_PLAYING",playing:!0}),f({type:"SET_VOLUME",volume:b/100})}:null,fontSize:"large",className:"footer__icon"}),Object(j.jsx)(J.a,{className:"footer__icon"}),Object(j.jsx)(W.a,{onClick:n?_:null,className:p?"footer__green":"footer__icon"})]}),Object(j.jsx)("div",{className:"footer__right",children:Object(j.jsxs)(X.a,{container:!0,spacing:2,children:[Object(j.jsx)(X.a,{item:!0,children:Object(j.jsx)(ee.a,{})}),Object(j.jsx)(X.a,{item:!0,children:Object(j.jsx)(ce.a,{})}),Object(j.jsx)(X.a,{item:!0,xs:!0,children:Object(j.jsx)(Z.a,{"aria-labelledby":"discrete-slider",valueLabelDisplay:"off",onChange:function(e,t){f({type:"SET_VOLUME",volume:t/100})},min:0,max:100})})]})})]})};var ie=function(e){var t=e.spotify;return Object(j.jsxs)("div",{className:"player",children:[Object(j.jsxs)("div",{className:"player_body",children:[Object(j.jsx)(T,{spotify:t}),Object(j.jsx)(K,{spotify:t})]}),Object(j.jsx)(se,{})]})},re=new b.a;var oe=function(){var e=m(),t=Object(r.a)(e,2),c=t[0].token,a=t[1];return Object(n.useEffect)((function(){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){var c=t.split("=");return e[c[0]]=decodeURIComponent(c[1]),e}),{});window.location.hash="";var t=e.access_token;t&&(a({type:"SET_TOKEN",token:t}),re.setAccessToken(t),re.getMe().then((function(e){a({type:"SET_USER",user:e})})),re.getUserPlaylists("31dndnhibfoo6yklb3ofy624cesu").then((function(e){a({type:"SET_PLAYLISTS",playlists:e})})))}),[]),Object(j.jsxs)("div",{className:"app",children:[" ",c?Object(j.jsx)(ie,{spotify:re}):Object(j.jsx)(u,{})]})},le=c(5),je=(c(198),function(e,t){switch(t.type){case"SET_USER":return Object(le.a)(Object(le.a)({},e),{},{user:t.user});case"SET_TOKEN":return Object(le.a)(Object(le.a)({},e),{},{token:t.token});case"SET_PLAYLISTS":return Object(le.a)(Object(le.a)({},e),{},{playlists:t.playlists});case"SET_CURRENT_PLAYLIST":var c=null;return e.playlists.items.forEach((function(e){e.id===t.id&&(c=e)})),Object(le.a)(Object(le.a)({},e),{},{current_playlist:c});case"SET_TRACKS":return Object(le.a)(Object(le.a)({},e),{},{tracks:t.tracks});case"SET_TRACK":return Object(le.a)(Object(le.a)({},e),{},{track:t.track});default:return e}}),ue=(c(492),function(e,t){switch(t.type){case"SET_AUDIO":return Object(le.a)(Object(le.a)({},e),{},{audio:t.audio});case"SET_PLAYING":return t.playing?e.audio&&e.audio.play():e.audio&&e.audio.pause(),Object(le.a)(Object(le.a)({},e),{},{playing:t.playing});case"SET_VOLUME":return e.audio&&(e.audio.volume=t.volume),Object(le.a)(Object(le.a)({},e),{},{volume:t.volume});case"SET_REPEAT":return e.audio&&(e.audio.loop=t.repeat),Object(le.a)(Object(le.a)({},e),{},{repeat:t.repeat});case"SET_SHUFFLE":return e.audio?Object(le.a)(Object(le.a)({},e),{},{shuffle:t.shuffle}):e;default:return e}});i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(f,{initialState:{ser:null,playlists:[],playing:!1,item:null,current_playlist:null,tracks:null,track:null,token:null},reducer:je,children:Object(j.jsx)(U,{initialState:{audio:null,playing:!1,volume:.3,repeat:!1,shuffle:!1},reducer:ue,children:Object(j.jsx)(oe,{})})})}),document.getElementById("root"))}},[[493,1,2]]]);
//# sourceMappingURL=main.2b5345b8.chunk.js.map